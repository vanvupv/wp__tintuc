!function($,window,document,undefined){"use strict";var SPLW=SPLW||{};SPLW.funcs={},SPLW.vars={onloaded:!1,$body:$("body"),$window:$(window),$document:$(document),$form_warning:null,is_confirm:!1,form_modified:!1,code_themes:[],is_rtl:$("body").hasClass("rtl")},SPLW.helper={uid:function(prefix){return(prefix||"")+Math.random().toString(36).substr(2,9)},preg_quote:function(str){return(str+"").replace(/(\[|\])/g,"\\$1")},name_nested_replace:function($selector,field_id){var checks=[],regex=new RegExp(SPLW.helper.preg_quote(field_id+"[\\d+]"),"g");$selector.find(":radio").each((function(){(this.checked||this.orginal_checked)&&(this.orginal_checked=!0)})),$selector.each((function(index){$(this).find(":input").each((function(){this.name=this.name.replace(regex,field_id+"["+index+"]"),this.orginal_checked&&(this.checked=!0)}))}))},debounce:function(callback,threshold,immediate){var timeout;return function(){var context=this,args=arguments,later=function(){timeout=null,immediate||callback.apply(context,args)},callNow=immediate&&!timeout;clearTimeout(timeout),timeout=setTimeout(later,threshold),callNow&&callback.apply(context,args)}},get_cookie:function(name){var e,b,cookie=document.cookie,p=name+"=";if(cookie){if(-1===(b=cookie.indexOf("; "+p))){if(0!==(b=cookie.indexOf(p)))return null}else b+=2;return-1===(e=cookie.indexOf(";",b))&&(e=cookie.length),decodeURIComponent(cookie.substring(b+p.length,e))}},set_cookie:function(name,value,expires,path,domain,secure){var d=new Date;"object"==typeof expires&&expires.toGMTString?expires=expires.toGMTString():parseInt(expires,10)?(d.setTime(d.getTime()+1e3*parseInt(expires,10)),expires=d.toGMTString()):expires="",document.cookie=name+"="+encodeURIComponent(value)+(expires?"; expires="+expires:"")+(path?"; path="+path:"")+(domain?"; domain="+domain:"")+(secure?"; secure":"")},remove_cookie:function(name,path,domain,secure){SPLW.helper.set_cookie(name,"",-1e3,path,domain,secure)}},$.fn.splwt_clone=function(){for(var base=$.fn.clone.apply(this,arguments),clone=this.find("select").add(this.filter("select")),cloned=base.find("select").add(base.filter("select")),i=0;i<clone.length;++i)for(var j=0;j<clone[i].options.length;++j)!0===clone[i].options[j].selected&&(cloned[i].options[j].selected=!0);return this.find(":radio").each((function(){this.orginal_checked=this.checked})),base},$.fn.splwt_nav_options=function(){return this.each((function(){var $nav,$links=$(this).find("a"),$last;$(window).on("hashchange splwt-lite.hashchange",(function(){var hash=window.location.hash.replace("#tab=",""),slug=hash||$links.first().attr("href").replace("#tab=",""),$link=$('[data-tab-id="'+slug+'"]');if($link.length){$link.closest(".splwt-lite-tab-item").addClass("splwt-lite-tab-expanded").siblings().removeClass("splwt-lite-tab-expanded"),$link.next().is("ul")&&(slug=($link=$link.next().find("li").first().find("a")).data("tab-id")),$links.removeClass("splwt-lite-active"),$link.addClass("splwt-lite-active"),$last&&$last.hide();var $section=$('[data-section-id="'+slug+'"]');$section.show(),$section.splwt_reload_script(),$(".splwt-lite-section-id").val($section.index()),$last=$section}})).trigger("splwt-lite.hashchange")}))},$.fn.splwt_nav_metabox=function(){return this.each((function(){var $nav=$(this),$links=$nav.find("a"),unique_id=$nav.data("unique"),post_id=$("#post_ID").val()||"global",$last_section,$last_link;$links.on("click",(function(e){e.preventDefault();var $link=$(this),section_id=$link.data("section");void 0!==$last_link&&$last_link.removeClass("splwt-lite-active"),void 0!==$last_section&&$last_section.hide(),$link.addClass("splwt-lite-active");var $section=$("#splwt-section-"+section_id);$section.css({display:"block"}),$section.splwt_reload_script(),SPLW.helper.set_cookie("splwt-last-metabox-tab-"+post_id+"-"+unique_id,section_id),$last_section=$section,$last_link=$link}));var get_cookie=SPLW.helper.get_cookie("splwt-last-metabox-tab-"+post_id+"-"+unique_id);get_cookie?$nav.find('a[data-section="'+get_cookie+'"]').trigger("click"):$links.first("a").trigger("click")}))},$.fn.splwt_dependency=function(){return this.each((function(){var $this=$(this),$fields=$this.children("[data-controller]");if($fields.length){var normal_ruleset=$.splwt_deps.createRuleset(),global_ruleset=$.splwt_deps.createRuleset(),normal_depends=[],global_depends=[];$fields.each((function(){var $field=$(this),controllers=$field.data("controller").split("|"),conditions=$field.data("condition").split("|"),values=$field.data("value").toString().split("|"),is_global=!!$field.data("depend-global"),ruleset=is_global?global_ruleset:normal_ruleset;$.each(controllers,(function(index,depend_id){var value=values[index]||"",condition=conditions[index]||conditions[0];(ruleset=ruleset.createRule('[data-depend-id="'+depend_id+'"]',condition,value)).include($field),is_global?global_depends.push(depend_id):normal_depends.push(depend_id)}))})),normal_depends.length&&$.splwt_deps.enable($this,normal_ruleset,normal_depends),global_depends.length&&$.splwt_deps.enable(SPLW.vars.$body,global_ruleset,global_depends)}}))},$.fn.splwt_field_code_editor=function(){return this.each((function(){if("function"==typeof CodeMirror){var $this=$(this),$textarea=$this.find("textarea"),$inited=$this.find(".CodeMirror"),data_editor=$textarea.data("editor");$inited.length&&$inited.remove();var interval=setInterval((function(){if($this.is(":visible")){var code_editor=CodeMirror.fromTextArea($textarea[0],data_editor);if("default"!==data_editor.theme&&-1===SPLW.vars.code_themes.indexOf(data_editor.theme)){var $cssLink=$("<link>");$("#splwt-lite-codemirror-css").after($cssLink),$cssLink.attr({rel:"stylesheet",id:"splwt-lite-codemirror-"+data_editor.theme+"-css",href:data_editor.cdnURL+"/theme/"+data_editor.theme+".min.css",type:"text/css",media:"all"}),SPLW.vars.code_themes.push(data_editor.theme)}CodeMirror.modeURL=data_editor.cdnURL+"/mode/%N/%N.min.js",CodeMirror.autoLoadMode(code_editor,data_editor.mode),code_editor.on("change",(function(editor,event){$textarea.val(code_editor.getValue()).trigger("change")})),clearInterval(interval)}}))}}))},$.fn.splwt_field_spinner=function(){return this.each((function(){var $this=$(this),$input=$this.find("input"),$inited=$this.find(".ui-spinner-button"),data=$input.data();$inited.length&&$inited.remove(),$input.spinner({min:data.min||0,max:data.max||100,step:data.step||1,create:function(event,ui){data.unit&&$this.find(".ui-spinner-up").after('<span class="ui-button-text-only splwt-lite--unit ui-button">'+data.unit+"</span>")},spin:function(event,ui){$input.val(ui.value).trigger("change")}})}))},$.fn.splwt_field_switcher=function(){return this.each((function(){var $switcher=$(this).find(".splwt-lite--switcher");$switcher.on("click",(function(){var value=0,$input=$switcher.find("input");$switcher.hasClass("splwt-lite--active")?$switcher.removeClass("splwt-lite--active"):(value=1,$switcher.addClass("splwt-lite--active")),$input.val(value).trigger("change")}))}))},$.fn.splwt_confirm=function(){return this.each((function(){$(this).on("click",(function(e){var confirm_text=$(this).data("confirm")||window.splwt_vars.i18n.confirm,confirm_answer;if(!confirm(confirm_text))return e.preventDefault(),!1;SPLW.vars.is_confirm=!0,SPLW.vars.form_modified=!1}))}))},$.fn.serializeObject=function(){var obj={};return $.each(this.serializeArray(),(function(i,o){var n=o.name,v=o.value;obj[n]=void 0===obj[n]?v:$.isArray(obj[n])?obj[n].concat(v):[obj[n],v]})),obj},$.fn.splwt_save=function(){return this.each((function(){var $this=$(this),$buttons=$(".splwt-lite-save"),$panel=$(".splwt-lite-options"),flooding=!1,timeout;$this.on("click",(function(e){if(!flooding){var $text=$this.data("save"),$value=$this.val();$buttons.attr("value",$text),$this.hasClass("splwt-lite-save-ajax")?(e.preventDefault(),$panel.addClass("splwt-lite-saving"),$buttons.prop("disabled",!0),window.wp.ajax.post("splwt_"+$panel.data("unique")+"_ajax_save",{data:$("#splwt-lite-form").serializeJSONSPLWT()}).done((function(response){if($(".splwt-lite-error").remove(),Object.keys(response.errors).length){var error_icon='<i class="splwt-lite-label-error splwt-lite-error">!</i>';$.each(response.errors,(function(key,error_message){var $field=$('[data-depend-id="'+key+'"]'),$link=$("#splwt-lite-tab-link-"+($field.closest(".splwt-lite-section").index()+1)),$tab=$link.closest(".splwt-lite-tab-depth-0");$field.closest(".splwt-lite-fieldset").append('<p class="splwt-lite-error splwt-lite-error-text">'+error_message+"</p>"),$link.find(".splwt-lite-error").length||$link.append(error_icon),$tab.find(".splwt-lite-arrow .splwt-lite-error").length||$tab.find(".splwt-lite-arrow").append(error_icon)}))}$panel.removeClass("splwt-lite-saving"),$buttons.prop("disabled",!1).attr("value",$value),flooding=!1,SPLW.vars.form_modified=!1,SPLW.vars.$form_warning.hide(),clearTimeout(timeout);var $result_success=$(".splwt-lite-form-success");$result_success.empty().append(response.notice).fadeIn("fast",(function(){timeout=setTimeout((function(){$result_success.fadeOut("fast")}),1e3)}))})).fail((function(response){alert(response.error)}))):SPLW.vars.form_modified=!1}flooding=!0}))}))},$.fn.splwt_options=function(){return this.each((function(){var $this=$(this),$content=$this.find(".splwt-lite-content"),$form_success=$this.find(".splwt-lite-form-success"),$form_warning=$this.find(".splwt-lite-form-warning"),$save_button=$this.find(".splwt-lite-header .splwt-lite-save");SPLW.vars.$form_warning=$form_warning,$form_warning.length&&(window.onbeforeunload=function(){return!!SPLW.vars.form_modified||void 0},$content.on("change keypress",":input",(function(){SPLW.vars.form_modified||($form_success.hide(),$form_warning.fadeIn("fast"),SPLW.vars.form_modified=!0)}))),$form_success.hasClass("splwt-lite-form-show")&&setTimeout((function(){$form_success.fadeOut("fast")}),1e3),$(document).on("keydown",(function(event){if((event.ctrlKey||event.metaKey)&&83===event.which)return $save_button.trigger("click"),event.preventDefault(),!1}))}))},"function"==typeof Color&&(Color.prototype.toString=function(){if(this._alpha<1)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var hex=parseInt(this._color,10).toString(16);if(this.error)return"";if(hex.length<6)for(var i=6-hex.length-1;i>=0;i--)hex="0"+hex;return"#"+hex}),SPLW.funcs.parse_color=function(color){var value=color.replace(/\s+/g,""),trans=-1!==value.indexOf("rgba")?parseFloat(100*value.replace(/^.*,(.+)\)/,"$1")):100,rgba;return{value:value,transparent:trans,rgba:trans<100}},$.fn.splwt_color=function(){return this.each((function(){var $input=$(this),picker_color=SPLW.funcs.parse_color($input.val()),palette_color=!window.splwt_vars.color_palette.length||window.splwt_vars.color_palette,$container;$input.hasClass("wp-color-picker")&&$input.closest(".wp-picker-container").after($input).remove(),$input.wpColorPicker({palettes:palette_color,change:function(event,ui){var ui_color_value=ui.color.toString();$container.removeClass("splwt-lite--transparent-active"),$container.find(".splwt-lite--transparent-offset").css("background-color",ui_color_value),$input.val(ui_color_value).trigger("change")},create:function(){$container=$input.closest(".wp-picker-container");var a8cIris=$input.data("a8cIris"),$transparent_wrap=$('<div class="splwt-lite--transparent-wrap"><div class="splwt-lite--transparent-slider"></div><div class="splwt-lite--transparent-offset"></div><div class="splwt-lite--transparent-text"></div><div class="splwt-lite--transparent-button">transparent <i class="fas fa-toggle-off"></i></div></div>').appendTo($container.find(".wp-picker-holder")),$transparent_slider=$transparent_wrap.find(".splwt-lite--transparent-slider"),$transparent_text=$transparent_wrap.find(".splwt-lite--transparent-text"),$transparent_offset=$transparent_wrap.find(".splwt-lite--transparent-offset"),$transparent_button=$transparent_wrap.find(".splwt-lite--transparent-button");"transparent"===$input.val()&&$container.addClass("splwt-lite--transparent-active"),$transparent_button.on("click",(function(){"transparent"!==$input.val()?($input.val("transparent").trigger("change").removeClass("iris-error"),$container.addClass("splwt-lite--transparent-active")):($input.val(a8cIris._color.toString()).trigger("change"),$container.removeClass("splwt-lite--transparent-active"))})),$transparent_slider.slider({value:picker_color.transparent,step:1,min:0,max:100,slide:function(event,ui){var slide_value=parseFloat(ui.value/100);a8cIris._color._alpha=slide_value,$input.wpColorPicker("color",a8cIris._color.toString()),$transparent_text.text(1===slide_value||0===slide_value?"":slide_value)},create:function(){var slide_value=parseFloat(picker_color.transparent/100),text_value=slide_value<1?slide_value:"";$transparent_text.text(text_value),$transparent_offset.css("background-color",picker_color.value),$container.on("click",".wp-picker-clear",(function(){a8cIris._color._alpha=1,$transparent_text.text(""),$transparent_slider.slider("option","value",100),$container.removeClass("splwt-lite--transparent-active"),$input.trigger("change")})),$container.on("click",".wp-picker-default",(function(){var default_color=SPLW.funcs.parse_color($input.data("default-color")),default_value=parseFloat(default_color.transparent/100),default_text=default_value<1?default_value:"";a8cIris._color._alpha=default_value,$transparent_text.text(default_text),$transparent_slider.slider("option","value",default_color.transparent)}))}})}})}))},$.fn.splwt_chosen=function(){return this.each((function(){var $this=$(this),$inited=$this.parent().find(".chosen-container"),is_sortable=$this.hasClass("splwt-lite-chosen-sortable")||!1,is_ajax=$this.hasClass("splwt-lite-chosen-ajax")||!1,is_multiple=$this.attr("multiple")||!1,set_width=is_multiple?"100%":"auto",set_options=$.extend({allow_single_deselect:!0,disable_search_threshold:10,width:set_width,no_results_text:window.splwt_vars.i18n.no_results_text},$this.data("chosen-settings"));if($inited.length&&$inited.remove(),is_ajax){var set_ajax_options=$.extend({data:{type:"post",nonce:""},allow_single_deselect:!0,disable_search_threshold:-1,width:"100%",min_length:3,type_delay:500,typing_text:window.splwt_vars.i18n.typing_text,searching_text:window.splwt_vars.i18n.searching_text,no_results_text:window.splwt_vars.i18n.no_results_text},$this.data("chosen-settings"));$this.SPLWTAjaxChosen(set_ajax_options)}else $this.chosen(set_options);if(is_multiple){var $hidden_select=$this.parent().find(".splwt-lite-hide-select"),$hidden_value=$hidden_select.val()||[];$this.on("change",(function(obj,result){result&&result.selected?$hidden_select.append('<option value="'+result.selected+'" selected="selected">'+result.selected+"</option>"):result&&result.deselected&&$hidden_select.find('option[value="'+result.deselected+'"]').remove(),void 0!==window.wp.customize&&0===$hidden_select.children().length&&$hidden_select.data("customize-setting-link")&&window.wp.customize.control($hidden_select.data("customize-setting-link")).setting.set(""),$hidden_select.trigger("change")})),$this.SPLWTChosenOrder($hidden_value,!0)}if(is_sortable){var $chosen_container,$chosen_choices=$this.parent().find(".chosen-container").find(".chosen-choices");$chosen_choices.bind("mousedown",(function(event){$(event.target).is("span")&&event.stopPropagation()})),$chosen_choices.sortable({items:"li:not(.search-field)",helper:"orginal",cursor:"move",placeholder:"search-choice-placeholder",start:function(e,ui){ui.placeholder.width(ui.item.innerWidth()),ui.placeholder.height(ui.item.innerHeight())},update:function(e,ui){var select_options="",chosen_object=$this.data("chosen"),$prev_select=$this.parent().find(".splwt-lite-hide-select");$chosen_choices.find(".search-choice-close").each((function(){var option_array_index=$(this).data("option-array-index");$.each(chosen_object.results_data,(function(index,data){data.array_index===option_array_index&&(select_options+='<option value="'+data.value+'" selected>'+data.value+"</option>")}))})),$prev_select.children().remove(),$prev_select.append(select_options),$prev_select.trigger("change")}})}}))},$.fn.splwt_field_tabbed=function(){return this.each((function(){var $this=$(this),$links=$this.find(".splwt-lite-tabbed-nav a"),$sections=$this.find(".splwt-lite-tabbed-section");$links.on("click",(function(e){e.preventDefault();var $link=$(this),index=$link.index(),$section=$sections.eq(index);SPLW.helper.set_cookie("activeTabIndex",index),$link.addClass("splwt-lite-tabbed-active").siblings().removeClass("splwt-lite-tabbed-active"),$section.splwt_reload_script(),$section.removeClass("hidden").siblings().addClass("hidden")}));var activeTabIndex=SPLW.helper.get_cookie("activeTabIndex");null!==activeTabIndex?$links.eq(activeTabIndex).trigger("click"):$links.first().trigger("click")}))},$.fn.splwt_checkbox=function(){return this.each((function(){var $this=$(this),$input=$this.find(".splwt-lite--input"),$checkbox=$this.find(".splwt-lite--checkbox");$checkbox.on("click",(function(){$input.val(Number($checkbox.prop("checked"))).trigger("change")}))}))},$.fn.splwt_siblings=function(){return this.each((function(){var $this=$(this),$siblings=$this.find(".splwt-lite--sibling:not(.splwt-lite-pro-only)"),multiple=$this.data("multiple")||!1;$siblings.on("click",(function(){var $sibling=$(this);multiple?$sibling.hasClass("splwt-lite--active")?($sibling.removeClass("splwt-lite--active"),$sibling.find("input").prop("checked",!1).trigger("change")):($sibling.addClass("splwt-lite--active"),$sibling.find("input").prop("checked",!0).trigger("change")):($this.find("input").prop("checked",!1),$sibling.find("input").prop("checked",!0).trigger("change"),$sibling.addClass("splwt-lite--active").siblings().removeClass("splwt-lite--active"))}))}))},$.fn.splwt_help=function(){return this.each((function(){var $this=$(this),$tooltip,$class="";$this.on({mouseenter:function(){$this.find(".lw-support").length>0&&($class="support-tooltip"),$tooltip=$('<div class="splwt-lite-tooltip '+$class+'"></div>').html($this.find(".splwt-lite-help-text").html()).appendTo("body");var offset_left=SPLW.vars.is_rtl?$this.offset().left-$tooltip.outerWidth():$this.offset().left+24,$top=$this.offset().top-($tooltip.outerHeight()/2-14);$this.find(".lw-support").length>0&&($top=$this.offset().top+56,offset_left=$this.offset().left-235),$tooltip.css({top:$top,left:offset_left})},mouseleave:function(){void 0!==$tooltip&&($tooltip.is(":hover")||$tooltip.remove())}}),$("body").on("mouseleave",".splwt-lite-tooltip",(function(){void 0!==$tooltip&&$tooltip.remove()}))}))},$.fn.splwt_customizer_refresh=function(){return this.each((function(){var $this=$(this),$complex=$this.closest(".splwt-lite-customize-complex");if($complex.length){var $input=$complex.find(":input"),$unique=$complex.data("unique-id"),$option=$complex.data("option-id"),obj=$input.serializeObjectSPLWT(),data=$.isEmptyObject(obj)?"":obj[$unique][$option],control=window.wp.customize.control($unique+"["+$option+"]");control.setting._value=null,control.setting.set(data)}else $this.find(":input").first().trigger("change");$(document).trigger("splwt-lite-customizer-refresh",$this)}))},$.fn.splwt_customizer_listen=function(options){var settings=$.extend({closest:!1},options);return this.each((function(){if(void 0!==window.wp.customize){var $this=settings.closest?$(this).closest(".splwt-lite-customize-complex"):$(this),$input=$this.find(":input"),unique_id=$this.data("unique-id"),option_id=$this.data("option-id");void 0!==unique_id&&$input.on("change keyup",SPLW.helper.debounce((function(){var obj=$this.find(":input").serializeObjectSPLWT(),val=!$.isEmptyObject(obj)&&obj[unique_id]&&obj[unique_id][option_id]?obj[unique_id][option_id]:"";window.wp.customize.control(unique_id+"["+option_id+"]").setting.set(val)}),250))}}))},$(document).on("expanded",".control-section",(function(){var $this=$(this);if($this.hasClass("open")&&!$this.data("inited")){var $fields=$this.find(".splwt-lite-customize-field"),$complex=$this.find(".splwt-lite-customize-complex");$fields.length&&($this.splwt_dependency(),$fields.splwt_reload_script({dependency:!1}),$complex.splwt_customizer_listen()),$this.data("inited",!0)}})),SPLW.vars.$window.on("resize splwt-lite.resize",SPLW.helper.debounce((function(event){var window_width;(navigator.userAgent.indexOf("AppleWebKit/")>-1?SPLW.vars.$window.width():window.innerWidth)<=782&&!SPLW.vars.onloaded&&($(".splwt-lite-section").splwt_reload_script(),SPLW.vars.onloaded=!0)}),200)).trigger("splwt-lite.resize"),$.fn.splwt_widgets=function(){this.length&&($(document).on("widget-added widget-updated",(function(event,$widget){$widget.find(".splwt-lite-fields").splwt_reload_script()})),$(".widgets-sortables, .control-section-sidebar").on("sortstop",(function(event,ui){ui.item.find(".splwt-lite-fields").splwt_reload_script_retry()})),$(document).on("click",".widget-top",(function(event){$(this).parent().find(".splwt-lite-fields").splwt_reload_script()})))},$.fn.splwt_nav_menu=function(){return this.each((function(){var $navmenu=$(this);$navmenu.on("click","a.item-edit",(function(){$(this).closest("li.menu-item").find(".splwt-lite-fields").splwt_reload_script()})),$navmenu.on("sortstop",(function(event,ui){ui.item.find(".splwt-lite-fields").splwt_reload_script_retry()}))}))},$.fn.splwt_reload_script_retry=function(){return this.each((function(){var $this=$(this)}))},$.fn.splwt_reload_script=function(options){var settings=$.extend({dependency:!0},options);return this.each((function(){var $this=$(this);$this.data("inited")||($this.children(".splwt-lite-field-code_editor").splwt_field_code_editor(),$this.children(".splwt-lite-field-spinner").splwt_field_spinner(),$this.children(".splwt-lite-field-switcher").splwt_field_switcher(),$this.children(".splwt-lite-field-box_shadow").find(".splwt-lite-color").splwt_color(),$this.children(".splwt-lite-field-border").find(".splwt-lite-color").splwt_color(),$this.children(".splwt-lite-field-color").find(".splwt-lite-color").splwt_color(),$this.children(".splwt-lite-field-color_group").find(".splwt-lite-color").splwt_color(),$this.children(".splwt-lite-field-typography").find(".splwt-lite-color").splwt_color(),$this.children(".splwt-lite-field-tabbed").splwt_field_tabbed(),$this.children(".splwt-lite-field-select").find(".splwt-lite-chosen").splwt_chosen(),$this.children(".splwt-lite-field-checkbox").find(".splwt-lite-checkbox").splwt_checkbox(),$this.children(".splwt-lite-field-button_set").find(".splwt-lite-siblings").splwt_siblings(),$this.children(".splwt-lite-field-image_select").find(".splwt-lite-siblings").splwt_siblings(),$this.children(".splwt-lite-field").find(".splwt-lite-help").splwt_help(),settings.dependency&&$this.splwt_dependency(),$this.data("inited",!0),$(document).trigger("splwt-lite-reload-script",$this))}))},$(document).ready((function(){var selectorsToDisable,valuesToDisable;function splw_copyToClipboard(element){var $temp=$("<input>");$("body").append($temp),$temp.val($(element).text()).trigger("select"),document.execCommand("copy"),$temp.remove()}function splw_SelectText(element){var r=document.createRange(),w=element.get(0);r.selectNodeContents(w);var sel=window.getSelection();sel.removeAllRanges(),sel.addRange(r)}function isValidJSONString(str){try{JSON.parse(str)}catch(e){return!1}return!0}$(".splwt-lite-save").splwt_save(),$(".splwt-lite-options").splwt_options(),$(".splwt-lite-nav-options").splwt_nav_options(),$(".splwt-lite-nav-metabox").splwt_nav_metabox(),$(".splwt-lite-confirm").splwt_confirm(),$(".splwt-lite-onload").splwt_reload_script(),$(".widget").splwt_widgets(),$("#menu-to-edit").splwt_nav_menu(),$(".splw-mbf-banner").find(".splwt-submit-options").splwt_help(),$(".splwt-lite-field-button_clean.cache_remove .splwt-lite--sibling.splwt-lite--button").on("click",(function(e){e.preventDefault(),SPLW.vars.is_confirm&&window.wp.ajax.post("lwp_clean_open_weather_transients",{nonce:$("#splwt_options_noncelocation_weather_settings").val()}).done((function(response){alert("Cache cleaned")})).fail((function(response){alert("Cache failed to clean"),alert(response.error)}))})),[".splwt-lite--button:nth-of-type(2)",".splwt-lite--button:nth-of-type(3)",".splwt-lite--button:nth-of-type(4)"].forEach((function(selector){$(".splw_display_weather").find(selector).attr("disabled","disabled").addClass("splw_pro_only"),$(".splw_custom_button_fields").find(selector).attr("disabled","disabled").addClass("splw_pro_only"),$(".splw_get_weather_by").find(selector).attr("disabled","disabled").addClass("splw_pro_only"),$(".splw_background_type").find(selector).attr("disabled","disabled").addClass("splw_pro_only"),$(".lw-background-color-type").find(selector).attr("disabled","disabled").addClass("splw_pro_only")})),["1","2","3","4","5","mm","inch"].forEach((function(value){$(".splw_pressure_unit").find('select option[value="'+value+'"]').attr("disabled","disabled").addClass("splw_pro_only"),$(".splw_precipitation_unit").find('select option[value="'+value+'"]').attr("disabled","disabled").addClass("splw_pro_only"),$(".splw_wind_speed_unit").find('select option[value="'+value+'"]').attr("disabled","disabled").addClass("splw_pro_only"),$(".splw_background_type").find('select option[value="'+value+'"]').attr("disabled","disabled").addClass("splw_pro_only")})),$(".splw_forecast_days select").attr("disabled","disabled").addClass("splw_pro_only"),$(".splw_show_hide .splwt-lite--switcher").attr("disabled","disabled").addClass("splw_pro_only").css({background:"#99AAB2"}),$(".splw_pro_only").css({"pointer-events":"none",color:"#9a9a9a",position:"relative"}),$(window).off("beforeunload"),$(".splw-publish-button").on("click",(function(){$(".spinner").css({display:"inline-block",visibility:"visible"})})),$(".splw__shortcode").on("click",(function(e){var copyText;e.preventDefault(),$(this).trigger("select"),document.execCommand("copy"),jQuery(".splw-after-copy-text").animate({opacity:1,bottom:25},300),setTimeout((function(){jQuery(".splw-after-copy-text").animate({opacity:0},200),jQuery(".splw-after-copy-text").animate({bottom:0},0)}),2e3)})),$(".splw-copy").on("click",(function(e){e.preventDefault(),splw_copyToClipboard($(this)),splw_SelectText($(this)),$(this).trigger("focus select"),jQuery(".splw-after-copy-text").animate({opacity:1,bottom:25},300),setTimeout((function(){jQuery(".splw-after-copy-text").animate({opacity:0},200),jQuery(".splw-after-copy-text").animate({bottom:0},0)}),2e3)}));const templateConfigurations={"template-one":{"lw-city-name-typo":{"font-size":27,"line-height":38,"text-align":"center","margin-top":0,"margin-bottom":4,color:"#fff"},"lw-date-time-typo":{"font-size":14,"line-height":16,"text-align":"center","margin-top":0,"margin-bottom":10,color:"#fff"},"lw-temp-scale-typo":{"font-size":48,"line-height":56,"text-align":"center","margin-top":0,"margin-bottom":0,color:"#fff"},"lw-min-max-temp-typo":{"font-size":16,"line-height":20,"text-align":"center","margin-top":10,"margin-bottom":0,color:"#fff"},"lw-desc-typo":{"font-size":16,"line-height":20,"text-align":"center","margin-top":8,"margin-bottom":0,color:"#fff"},"lw-weather-units-typo":{"font-size":14,"line-height":20,"text-align":"center",color:"#fff"},"lw-forecast-typo":{"font-size":14,"line-height":20,"text-align":"center","margin-top":0,"margin-bottom":0,color:"#fff"},"lw-weather-additional-data-margin":{top:20,bottom:10},lw_max_width:{all:320}},"horizontal-one":{"lw-city-name-typo":{"font-size":14,"line-height":20,"text-align":"left","margin-top":0,"margin-bottom":10,color:"#fff"},"lw-date-time-typo":{"font-size":14,"line-height":16,"text-align":"right","margin-top":0,"margin-bottom":10,color:"#fff"},"lw-temp-scale-typo":{"font-size":48,"line-height":56,"text-align":"left","margin-top":0,"margin-bottom":0,color:"#fff"},"lw-min-max-temp-typo":{"font-size":16,"line-height":20,"text-align":"right","margin-bottom":6,"margin-top":0,color:"#fff"},"lw-desc-typo":{"font-size":16,"line-height":20,"text-align":"left","margin-top":10,"margin-bottom":0,color:"#fff"},"lw-weather-units-typo":{"font-size":14,"line-height":20,"text-align":"left",color:"#fff"},"lw-forecast-typo":{"font-size":16,"line-height":20,"text-align":"center","margin-top":0,"margin-bottom":0,color:"#fff"},lw_max_width:{all:666},"lw-weather-additional-data-margin":{top:0,bottom:0},"lw_forecast-column":{all:7}}};function updateTemplateConfigurations(selectedTemplate){if(selectedTemplate in templateConfigurations){const selectedConfigurations=templateConfigurations[selectedTemplate];for(const selector in selectedConfigurations){const style=selectedConfigurations[selector],element=$(`.${selector}`);for(const property in style)element.find(`.splwt-lite--${property}`).val(style[property])}}}function getSelectedTemplate(weather_view){var selectedTemplate=$(".weather-template .splwt-lite--active input").val();return"horizontal"===weather_view&&(selectedTemplate=$(".weather-horizontal-template .splwt-lite--active input").val()),selectedTemplate}function handleWeatherViewClick(){var weather_view,selectedTemplate;updateTemplateConfigurations(getSelectedTemplate($(this).find("input").val()))}$(".weather_view .splwt-lite--image").on("click",handleWeatherViewClick);var $export_type=$(".splw_what_export").find("input:checked").val();$(".splw_what_export").on("change",(function(){$export_type=$(this).find("input:checked").val()})),$(".location_weather_export .splwt-lite--sibling.splwt-lite--button").on("click",(function(event){event.preventDefault();var $shortcode_ids=$(".splw_post_ids select").val(),$ex_nonce=$("#splwt_options_noncelocation_weather_tools_options").val(),selected_shortcode="selected_shortcodes"===$export_type?$shortcode_ids:"all_shortcodes";if("all_shortcodes"===$export_type||"selected_shortcodes"===$export_type&&selected_shortcode.length>0){var data={action:"splw_export_shortcodes",splw_ids:selected_shortcode,nonce:$ex_nonce};$.post(ajaxurl,data,(function(response){if(response){if(isValidJSONString(response))var json=JSON.stringify(JSON.parse(response));else var json=JSON.stringify(response);var blob=new Blob([json],{type:"application/json"}),link=document.createElement("a"),lw_time=$.now();link.href=window.URL.createObjectURL(blob),link.download="location-weather-export-"+lw_time+".json",link.click(),$(".splwt-lite-form-result.splwt-lite-form-success").text("Exported successfully!").show(),setTimeout((function(){$(".splwt-lite-form-result.splwt-lite-form-success").hide().text(""),$(".splw_post_ids select").val("").trigger("chosen:updated")}),3e3)}}))}else $(".splwt-lite-form-result.splwt-lite-form-success").text("No shortcode selected.").show(),setTimeout((function(){$(".splwt-lite-form-result.splwt-lite-form-success").hide().text("")}),3e3)})),$(".lw_import button.import").on("click",(function(event){event.preventDefault();var $this=$(this),button_label=$(this).text(),splw_shortcodes=$("#import").prop("files")[0];if(""!=$("#import").val()){$this.append('<span class="splwt-loading-spinner"><i class="fa fa-spinner" aria-hidden="true"></i></span>').css("opacity","0.7");var $im_nonce=$("#splwt_options_noncelocation_weather_tools_options").val(),reader=new FileReader;reader.readAsText(splw_shortcodes),reader.onload=function(event){var jsonObj=JSON.stringify(event.target.result);$.ajax({url:ajaxurl,type:"POST",data:{shortcode:jsonObj,action:"splw_import_shortcodes",nonce:$im_nonce},success:function(response){$this.html(button_label).css("opacity","1"),$(".splwt-lite-form-result.splwt-lite-form-success").text("Imported successfully!").show(),setTimeout((function(){$(".splwt-lite-form-result.splwt-lite-form-success").hide().text(""),$("#import").val(""),window.location.replace($("#splw_shortcode_link_redirect").attr("href"))}),2e3)},error:function(error){$("#import").val(""),$this.html(button_label).css("opacity","1"),$(".splwt-lite-form-result.splwt-lite-form-success").addClass("splwt-lite-form-warning").text("Something went wrong, please try again!").show(),setTimeout((function(){$(".splwt-lite-form-result.splwt-lite-form-success").hide().text("").removeClass("splwt-lite-form-warning")}),2e3)}})}}else $(".splwt-lite-form-result.splwt-lite-form-success").text("No exported json file chosen.").show(),setTimeout((function(){$(".splwt-lite-form-result.splwt-lite-form-success").hide().text("")}),3e3)}))})),$(document).on("keyup change",".splwt-lite-options #splwt-lite-form",(function(e){var $button;e.preventDefault(),$(this).find(".splwt-lite-save").css({"background-color":"#00C263","pointer-events":"initial"}).val("Save Settings")})),$(".splwt-lite-options .splwt-lite-save").on("click",(function(e){e.preventDefault(),$(this).css({"background-color":"#C5C5C6","pointer-events":"none","background-position":"11px center"}).val("Changes Saved")}));var preview_box=$("#sp_location_weather-preview-box"),preview_display=$("#sp_location_weather_live_preview").hide();function updateIconType(selector,regex,type){var str="";$(selector+" option:selected").each((function(){str=$(this).val()}));var src=$(selector+" .splwt-lite-fieldset img").attr("src"),result=src.match(regex);if(result&&result[1]&&(src=src.replace(result[1],str),$(selector+" .splwt-lite-fieldset img").attr("src",src)),type.includes(str))$(selector+" .lw-pro-notice").hide();else{var noticeText="This is a <a href='https://locationweather.io/pricing/?ref=1' target='_blank'>Pro Feature!</a>";$(selector+" .lw-pro-notice").html(noticeText).show()}}$(document).on("click","#sp_location_weather-show-preview:contains(Hide)",(function(e){var _this;e.preventDefault(),$(this).html('<i class="fa fa-eye" aria-hidden="true"></i> Show Preview'),preview_box.html(""),preview_display.hide()})),$(document).on("click","#sp_location_weather-show-preview:not(:contains(Hide))",(function(e){e.preventDefault();var previewJS=window.splwt_vars.previewJS,_data=$("form#post").serialize(),_this=$(this),data={action:"sp_location_weather_preview_meta_box",data:_data,ajax_nonce:$("#splwt_metabox_noncesp_location_weather_live_preview").val()};$.ajax({type:"POST",url:ajaxurl,data:data,error:function(response){console.log(response)},success:function(response){preview_display.show(),preview_box.html(response),_this.html('<i class="fa fa-eye-slash" aria-hidden="true"></i> Hide Preview'),$.getScript(previewJS,(function(){$(document).on("keyup change",(function(e){e.preventDefault(),_this.html('<i class="fa fa-refresh" aria-hidden="true"></i> Update Preview')})),$("html, body").animate({scrollTop:preview_display.offset().top-50},"slow")}))}})})),$(".weather-current-icon-type,.weather-icon-type").on("change",(function(){$(this).hasClass("weather-current-icon-type")?updateIconType(".weather-current-icon-type",/forecast-icon-set\/(.+)\.svg/,["forecast_icon_set_one","forecast_icon_set_two"]):$(this).hasClass("weather-icon-type")&&updateIconType(".weather-icon-type",/icon-set\/(.+)\.svg/,"icon_set_one")}));var pro_value=$(".lw-units-desc").find(".splwt-lite-fieldset select").val();$(".lw-units-desc").on("change",(function(){"auto_temp"===(pro_value=$(this).find(".splwt-lite-fieldset select").val())?$(this).find(".splwt-lite-desc-text").show():$(this).find(".splwt-lite-desc-text").hide()})),$(".splw-live-demo-icon").on("click",(function(event){event.stopPropagation()}))}(jQuery,window,document);